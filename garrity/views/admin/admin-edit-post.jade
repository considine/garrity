extends ../layout

block stylesheets
  link(rel="stylesheet" href="/stylesheets/add-post.css")
  link(href="https://cdn.quilljs.com/1.0.0/quill.snow.css" rel="stylesheet")
  link(href="https://fonts.googleapis.com/css?family=Oswald" rel="stylesheet")
  link(rel='stylesheet', href='/stylesheets/image-panel.css')

block content
  
  
  .container.main-content
    ol.breadcrumb
      li
        a(href="/admin/dash/stories") All Articles
      li
        a(href="/admin/dash/blog_posts") All Blogs
  
    .row(style="margin-top: 24px;")
      h3(style="padding-left: 24px;") Add New Post
      .col-sm-8.col-xs-12
        input#title-input.form-control(type='text', placeholder='ENTER TITLE HERE')
        .editor-outer-wrapper
          #editor-container
            
            #toolbar
              select.ql-font
                option(selected) Sans Serif
                option(value="mirza") Mirza
                option(value="roboto") Roboto 
                option(value="oswald") Oswald
                option(value="comics sans ms") Comic Sans Ms

              select.ql-size
                option(selected)
                option(value="large")
                option(value="huge")
              
              span.ql-formats
                button.ql-bold
                button.ql-italic
                button.ql-underline
                button.ql-strike
              span.ql-formats
                button.ql-image
              select.ql-align
                option(selected="")
                option(value="center")
                option(value="right")
                option(value="justify")
              span.ql-formats
                select.ql-color
                select.ql-background
              

                
            #editor
      .col-sm-4.col-xs-12
        
        form
            
          .form-group
            label.col-sm-2.control-label(for='postAuthor') Author
            |     
            input#postAuthor.form-control(type='text', value='Garrity McOscar')
          |   
          .panel.panel-default.featured-panel-wrapper
            .panel-heading
              h3.panel-title Featured Image
            .panel-body#featured-image
              
              p.not-set-featured Featured Image Not Set!
              .panel-body.btn-wrapper
                a.btn.btn-default(href="#myModal", data-toggle="modal") Set Featured Image 
              
              //- img(style="width: 100%; display: none;" src="http://www.notable-quotes.com/a/muhammad_ali_quote.jpg")
              

          .form-group.publish-button-wrapper
            
            
            button.btn.btn-default.save-draft(onclick="refreshContent(false)" type="button") Save Draft
            button.btn.btn-default.publish(onclick="refreshContent(true)" type="button") Go!
            div#alerts
            

            div(style="text-align: center; margin-top: 16px;")
              a(href="/post/#{content}", style="text-align: center; margin-top: 16px;")
                div
                  i.glyphicon.glyphicon-blackboard(aria-hidden="true")
                  |  View Post
    #myModal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='myModalLabel', style="width:100%; height: 100%;")
      .modal-dialog(role='document')
        .modal-content
          .modal-header
            button.close(type='button', data-dismiss='modal', aria-label='Close')
              span(aria-hidden='true') Ã—
            h4#myModalLabel.modal-title Set Featured Image
          .modal-body
            div#step1
              h3.step-header Step 1: Image Upload
              form.image-form#image-form(method="post",enctype="multipart/form-data",action="/admin/upl")
                input.file-upload-input#file(type="file",name="upl")
                button.btn.btn-default#go-button(type="submit") Go
                span#status
            div#step2-container
          .modal-footer
            button.btn.btn-default(type='button', data-dismiss='modal') Close
            button.btn.btn-primary(type='button', onclick="centerRest()") Take Default Sizes


block scripts
  script(src="https://cdn.quilljs.com/1.0.0/quill.js")
  script(src="/javascripts/ajaxImage.js") 
  script(src='/javascripts/postUtils.js')
  
  script(src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js")
  script.
    initQuill();
    initAlerts();
  if edit

    script.
      fillEditContent('#{content}');

  
  
  